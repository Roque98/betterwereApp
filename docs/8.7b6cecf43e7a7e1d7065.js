(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{s5KY:function(i,c,t){"use strict";t.r(c),t.d(c,"OrganizarModule",function(){return L});var n=t("ofXK"),o=t("tyNb"),a=t("fXoL"),e=t("w1Bz"),r=t("Rjhg"),b=t("6K+g"),u=t("K2AU");let s=(()=>{class i{constructor(i){this.router=i,this.newItemEvent=new a.n}ngOnInit(){}navigate(){this.router.navigateByUrl("/organizar/ubicacion/"+this.ubicacion._id)}enviarEventoEliminar(){this.newItemEvent.emit(1)}}return i.\u0275fac=function(c){return new(c||i)(a.Hb(o.b))},i.\u0275cmp=a.Bb({type:i,selectors:[["app-card-ubicacion"]],inputs:{ubicacion:"ubicacion"},outputs:{newItemEvent:"newItemEvent"},decls:7,vars:1,consts:[[1,"card-ubicacion","border","container","shadow--short"],[1,"card-ubicacion__nombre-ubicacion"],[1,"btn--action-edit",3,"click"],[1,"bi","bi-eye"],[1,"btn--action-delete",3,"click"],[1,"bi","bi-trash"]],template:function(i,c){1&i&&(a.Kb(0,"div",0),a.Kb(1,"blockquote",1),a.fc(2),a.Jb(),a.Kb(3,"button",2),a.Rb("click",function(){return c.navigate()}),a.Ib(4,"i",3),a.Jb(),a.Kb(5,"button",4),a.Rb("click",function(){return c.enviarEventoEliminar()}),a.Ib(6,"i",5),a.Jb(),a.Jb()),2&i&&(a.xb(2),a.gc(c.ubicacion.nombre_ubicacion))},styles:[".container[_ngcontent-%COMP%]{padding:var(--spacing-3);display:grid;grid-template-columns:3fr 60px 60px;align-items:center;row-gap:var(--spacing-4);column-gap:var(--spacing-1)}"]}),i})();function d(i,c){1&i&&a.Ib(0,"app-loader")}function g(i,c){if(1&i){const i=a.Lb();a.Kb(0,"app-card-ubicacion",7),a.Rb("newItemEvent",function(){a.ac(i);const t=c.$implicit;return a.Tb(2).deleteUbicacion(t)}),a.Jb()}2&i&&a.Yb("ubicacion",c.$implicit)}function l(i,c){if(1&i&&(a.Kb(0,"div"),a.ec(1,g,1,1,"app-card-ubicacion",6),a.Jb()),2&i){const i=a.Tb();a.xb(1),a.Yb("ngForOf",i.ubicaciones)}}let p=(()=>{class i{constructor(i,c){this.ubicacionService=i,this.router=c,this.textoAyuda="Crea una nueva ubicacion, presiona sobre el boton editar y asignale productos",this.cargando=!1}ngOnInit(){this.listUbicaciones()}listUbicaciones(){this.cargando=!0,this.ubicacionService.listUbicaciones().then(i=>{this.ubicaciones=i,console.log(this.ubicaciones)}).finally(()=>{this.cargando=!1})}deleteUbicacion(i){confirm("\xbfEstas seguro de eliminar esta ubicacion?")&&(this.cargando=!0,this.ubicacionService.deleteUbicacion(i._id).then(i=>{this.listUbicaciones()}).finally(()=>{this.cargando=!0}))}navigateByUrl(i){this.router.navigateByUrl(i)}}return i.\u0275fac=function(c){return new(c||i)(a.Hb(e.a),a.Hb(o.b))},i.\u0275cmp=a.Bb({type:i,selectors:[["app-organizar"]],decls:10,vars:5,consts:[[3,"url","title"],[1,"container"],[1,"btn--action-add",3,"click"],[1,"bi","bi-plus-circle"],[4,"ngIf"],[3,"textoAyuda"],[3,"ubicacion","newItemEvent",4,"ngFor","ngForOf"],[3,"ubicacion","newItemEvent"]],template:function(i,c){1&i&&(a.Ib(0,"app-navigation",0),a.Kb(1,"div",1),a.Kb(2,"button",2),a.Rb("click",function(){return c.navigateByUrl("/organizar/crear-ubicacion")}),a.Kb(3,"i",3),a.fc(4," Agregar nueva ubicacion"),a.Jb(),a.Jb(),a.Kb(5,"h1"),a.fc(6,"Ubicaciones"),a.Jb(),a.ec(7,d,1,0,"app-loader",4),a.ec(8,l,2,1,"div",4),a.Ib(9,"app-texto-ayuda",5),a.Jb()),2&i&&(a.Yb("url","/home")("title","Organizar inventario"),a.xb(7),a.Yb("ngIf",c.cargando),a.xb(1),a.Yb("ngIf",!c.cargando),a.xb(1),a.Yb("textoAyuda",c.textoAyuda))},directives:[r.a,n.k,b.a,u.a,n.j,s],styles:[""]}),i})();var f=t("PnFU"),m=t("IgAx");function h(i,c){if(1&i){const i=a.Lb();a.Kb(0,"button",5),a.Rb("click",function(){return a.ac(i),a.Tb().emitirEvento()}),a.Ib(1,"i",6),a.Jb()}}function v(i,c){if(1&i){const i=a.Lb();a.Kb(0,"button",7),a.Rb("click",function(){return a.ac(i),a.Tb().emitirEvento()}),a.Ib(1,"i",8),a.Jb()}}let I=(()=>{class i{constructor(){this.newItemEvent=new a.n}ngOnInit(){}emitirEvento(){this.newItemEvent.emit(1)}}return i.\u0275fac=function(c){return new(c||i)},i.\u0275cmp=a.Bb({type:i,selectors:[["app-card-producto-organizar"]],inputs:{producto:"producto",agregar:"agregar"},outputs:{newItemEvent:"newItemEvent"},decls:6,vars:4,consts:[[1,"card-producto-ubicacion","border","container","shadow--short"],["alt","",3,"src"],[1,"card-ubicacion__nombre-ubicacion"],["class","btn--action-add",3,"click",4,"ngIf"],["class","btn--action-delete",3,"click",4,"ngIf"],[1,"btn--action-add",3,"click"],[1,"bi","bi-plus-circle"],[1,"btn--action-delete",3,"click"],[1,"bi","bi-trash"]],template:function(i,c){1&i&&(a.Kb(0,"div",0),a.Ib(1,"img",1),a.Kb(2,"blockquote",2),a.fc(3),a.Jb(),a.ec(4,h,2,0,"button",3),a.ec(5,v,2,0,"button",4),a.Jb()),2&i&&(a.xb(1),a.Yb("src",c.producto.url_fotografia,a.bc),a.xb(2),a.gc(c.producto.nombre_producto),a.xb(1),a.Yb("ngIf",c.agregar),a.xb(1),a.Yb("ngIf",!c.agregar))},directives:[n.k],styles:[".container[_ngcontent-%COMP%]{padding:var(--spacing-3);display:grid;grid-template-columns:1fr 3fr 60px;align-items:center;row-gap:var(--spacing-4);column-gap:var(--spacing-1)}"]}),i})();function y(i,c){1&i&&a.Ib(0,"app-loader")}function x(i,c){if(1&i&&(a.Kb(0,"h1"),a.fc(1),a.Jb()),2&i){const i=a.Tb(2);a.xb(1),a.gc(i.ubicacion.nombre_ubicacion)}}function U(i,c){1&i&&(a.Kb(0,"h1"),a.fc(1,"cargando..."),a.Jb())}function K(i,c){if(1&i){const i=a.Lb();a.Kb(0,"app-card-producto-organizar",9),a.Rb("click",function(){a.ac(i);const t=c.$implicit;return a.Tb(3).addProductoAUbicacion(t)}),a.Jb()}2&i&&a.Yb("producto",c.$implicit)("agregar",!0)}function w(i,c){if(1&i&&(a.Kb(0,"div",7),a.ec(1,K,1,2,"app-card-producto-organizar",8),a.Jb()),2&i){const i=a.Tb(2);a.xb(1),a.Yb("ngForOf",i.productos)}}function J(i,c){1&i&&a.Ib(0,"app-loader")}function Y(i,c){if(1&i){const i=a.Lb();a.Kb(0,"div",3),a.ec(1,x,2,1,"h1",1),a.ec(2,U,2,0,"h1",1),a.Kb(3,"app-barra-busqueda",4),a.Rb("contenidoInputEmmiter",function(c){return a.ac(i),a.Tb().actualizarValorDeBusqueda(c)}),a.Jb(),a.Ib(4,"app-texto-ayuda",5),a.ec(5,w,2,1,"div",6),a.ec(6,J,1,0,"app-loader",1),a.Jb()}if(2&i){const i=a.Tb();a.xb(1),a.Yb("ngIf",!i.cargandoUbicacion),a.xb(1),a.Yb("ngIf",i.cargandoUbicacion),a.xb(2),a.Yb("textoAyuda",i.textoAyuda),a.xb(1),a.Yb("ngIf",i.productos&&!i.cargando),a.xb(1),a.Yb("ngIf",i.cargandoProductos)}}let k=(()=>{class i{constructor(i,c,t,n){this.router=i,this.activatedRoute=c,this.productosService=t,this.ubicacionService=n,this.cargando=!1,this.cargandoProductos=!1,this.cargandoUbicacion=!1,this.url="/organizar/ubicacion/",this.textoAyuda="Busca un producto y asignalo a esa ubicacion",this.idUbicacion="",this.productoBuscado="",this.idUbicacion=this.activatedRoute.snapshot.params.idUbicacion,this.url+=this.idUbicacion}ngOnInit(){this.cargandoUbicacion=!0,this.ubicacionService.getUbicacion(this.idUbicacion).then(i=>{this.ubicacion=i.resultadoUbicacion}).finally(()=>{this.cargandoUbicacion=!1})}actualizarValorDeBusqueda(i){this.productoBuscado=i,this.getProductos()}getProductos(){this.cargandoProductos=!0,this.productosService.getProductos(this.productoBuscado).then(i=>{this.productos=i.data}).catch(i=>{console.log(i)}).finally(()=>{this.cargandoProductos=!1})}addProductoAUbicacion(i){this.cargando=!0,this.ubicacionService.insertProducto(this.idUbicacion,i._id).then(i=>{alert("Producto agregado a la ubicacion"),this.productos=[]}).finally(()=>{this.cargando=!1})}}return i.\u0275fac=function(c){return new(c||i)(a.Hb(o.b),a.Hb(o.a),a.Hb(f.a),a.Hb(e.a))},i.\u0275cmp=a.Bb({type:i,selectors:[["app-add-productos"]],decls:3,vars:4,consts:[[3,"url","title"],[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[3,"contenidoInputEmmiter"],[3,"textoAyuda"],["class","card-group fadeIn",4,"ngIf"],[1,"card-group","fadeIn"],[3,"producto","agregar","click",4,"ngFor","ngForOf"],[3,"producto","agregar","click"]],template:function(i,c){1&i&&(a.Ib(0,"app-navigation",0),a.ec(1,y,1,0,"app-loader",1),a.ec(2,Y,7,5,"div",2)),2&i&&(a.Yb("url",c.url)("title","Agrega un producto"),a.xb(1),a.Yb("ngIf",c.cargando),a.xb(1),a.Yb("ngIf",!c.cargando))},directives:[r.a,n.k,u.a,m.a,b.a,n.j,I],styles:[""]}),i})();var _=t("3Pt+");function E(i,c){1&i&&a.Ib(0,"app-loader")}function P(i,c){if(1&i){const i=a.Lb();a.Kb(0,"div",3),a.Ib(1,"app-texto-ayuda",4),a.Kb(2,"form",5),a.Rb("ngSubmit",function(){return a.ac(i),a.Tb().onSubmit()}),a.Kb(3,"h4"),a.fc(4,"Nombre de la ubicacion:"),a.Jb(),a.Ib(5,"input",6),a.Kb(6,"button",7),a.fc(7,"Guardar ubicacion"),a.Jb(),a.Jb(),a.Jb()}if(2&i){const i=a.Tb();a.xb(1),a.Yb("textoAyuda",i.textoAyuda),a.xb(1),a.Yb("formGroup",i.ubicacionForm),a.xb(4),a.Yb("disabled",!i.ubicacionForm.valid)}}let A=(()=>{class i{constructor(i,c){this.ubicacionService=i,this.router=c,this.cargando=!1,this.textoAyuda="Nombra la nueva ubicacion y guardala",this.ubicacionForm=new _.d({nombre_ubicacion:new _.b("",_.l.required)})}ngOnInit(){}onSubmit(){this.ubicacionService.createUbicacion(this.ubicacionForm.value).then(i=>{this.router.navigateByUrl("/organizar")}).catch(i=>{console.log(i)}).finally(()=>{this.cargando=!1})}}return i.\u0275fac=function(c){return new(c||i)(a.Hb(e.a),a.Hb(o.b))},i.\u0275cmp=a.Bb({type:i,selectors:[["app-crear-ubicacion"]],decls:3,vars:4,consts:[[3,"url","title"],[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[3,"textoAyuda"],[3,"formGroup","ngSubmit"],["type","text","placeholder","nombre ubicacion","formControlName","nombre_ubicacion"],["type","submit",1,"btn--principal",3,"disabled"]],template:function(i,c){1&i&&(a.Ib(0,"app-navigation",0),a.ec(1,E,1,0,"app-loader",1),a.ec(2,P,8,3,"div",2)),2&i&&(a.Yb("url","/organizar")("title","Crear ubicacion"),a.xb(1),a.Yb("ngIf",c.cargando),a.xb(1),a.Yb("ngIf",!c.cargando))},directives:[r.a,n.k,u.a,b.a,_.m,_.h,_.e,_.a,_.g,_.c],styles:[""]}),i})();function F(i,c){1&i&&a.Ib(0,"app-loader")}function O(i,c){if(1&i&&(a.Kb(0,"blockquote"),a.fc(1),a.Jb()),2&i){const i=a.Tb(2);a.xb(1),a.gc(i.ubicacion.nombre_ubicacion)}}function N(i,c){1&i&&a.Ib(0,"input",14)}function S(i,c){if(1&i){const i=a.Lb();a.Kb(0,"button",15),a.Rb("click",function(){return a.ac(i),a.Tb(2).toggleEditarNombreUbicacion()}),a.Ib(1,"i",16),a.Jb()}}function B(i,c){1&i&&(a.Kb(0,"button",17),a.Ib(1,"i",18),a.Jb())}function z(i,c){if(1&i){const i=a.Lb();a.Kb(0,"app-card-producto-organizar",19),a.Rb("newItemEvent",function(){a.ac(i);const t=c.$implicit;return a.Tb(2).deleteProducto(t)}),a.Jb()}2&i&&a.Yb("producto",c.$implicit)("agregar",!1)}function R(i,c){if(1&i){const i=a.Lb();a.Kb(0,"div",3),a.Kb(1,"h1"),a.fc(2,"Nombre ubicacion"),a.Jb(),a.Kb(3,"form",4),a.Rb("ngSubmit",function(){return a.ac(i),a.Tb().cambiarNombreUbicacion()}),a.Kb(4,"div",5),a.ec(5,O,2,1,"blockquote",1),a.ec(6,N,1,0,"input",6),a.Jb(),a.Kb(7,"div",7),a.ec(8,S,2,0,"button",8),a.ec(9,B,2,0,"button",9),a.Jb(),a.Jb(),a.Kb(10,"h2"),a.fc(11,"Productos"),a.Jb(),a.Kb(12,"button",10),a.Rb("click",function(){return a.ac(i),a.Tb().navigateFromAddProduct()}),a.Kb(13,"i",11),a.fc(14," Agregar nuevo producto"),a.Jb(),a.Jb(),a.ec(15,z,1,2,"app-card-producto-organizar",12),a.Ib(16,"app-texto-ayuda",13),a.Jb()}if(2&i){const i=a.Tb();a.xb(3),a.Yb("formGroup",i.ubicacionForm),a.xb(2),a.Yb("ngIf",!i.editandoNombreUbicacion),a.xb(1),a.Yb("ngIf",i.editandoNombreUbicacion),a.xb(2),a.Yb("ngIf",!i.editandoNombreUbicacion),a.xb(1),a.Yb("ngIf",i.editandoNombreUbicacion),a.xb(6),a.Yb("ngForOf",i.ubicacion.productos),a.xb(1),a.Yb("textoAyuda",i.textoAyuda)}}const T=[{path:"",component:p},{path:"ubicacion/:id",component:(()=>{class i{constructor(i,c,t){this.ubicacionService=i,this.activatedRoute=c,this.router=t,this.textoAyuda="Estos son los productos guardados en esta ubicacion",this.cargando=!1,this.editandoNombreUbicacion=!1,this.ubicacionForm=new _.d({nombre_ubicacion:new _.b("",_.l.required)})}ngOnInit(){this.cargando=!0,this.getUbicacion()}getUbicacion(){this.ubicacionService.getUbicacion(this.activatedRoute.snapshot.params.id).then(i=>{this.ubicacion=i.resultadoUbicacion,this.ubicacionForm.get("nombre_ubicacion").setValue(this.ubicacion.nombre_ubicacion)}).finally(()=>{this.cargando=!1})}toggleEditarNombreUbicacion(){this.editandoNombreUbicacion=!this.editandoNombreUbicacion}cambiarNombreUbicacion(){this.cargando=!0,this.editandoNombreUbicacion=!this.editandoNombreUbicacion,this.ubicacionService.updateUbicacion(this.ubicacion._id,this.ubicacionForm.value.nombre_ubicacion).then(i=>{this.getUbicacion()}).finally(()=>{this.cargando=!1})}deleteProducto(i){confirm("\xbfEsta seguro de retirar este producto de esta ubicacion?")&&(this.cargando=!0,this.ubicacionService.deleteProducto(this.ubicacion._id,i._id).then(i=>{this.getUbicacion()}).finally(()=>{this.cargando=!1}))}navigateFromAddProduct(){this.router.navigateByUrl("/organizar/agregar-producto/"+this.ubicacion._id)}}return i.\u0275fac=function(c){return new(c||i)(a.Hb(e.a),a.Hb(o.a),a.Hb(o.b))},i.\u0275cmp=a.Bb({type:i,selectors:[["app-ubicacion"]],decls:3,vars:4,consts:[[3,"url","title"],[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"nombre_ubicacion"],["type","text","formControlName","nombre_ubicacion",4,"ngIf"],[1,"actions"],["class","btn--action-edit",3,"click",4,"ngIf"],["class","btn--action-edit","type","submit",4,"ngIf"],[1,"btn--action-add",3,"click"],[1,"bi","bi-plus-circle"],[3,"producto","agregar","newItemEvent",4,"ngFor","ngForOf"],[3,"textoAyuda"],["type","text","formControlName","nombre_ubicacion"],[1,"btn--action-edit",3,"click"],[1,"bi","bi-pencil"],["type","submit",1,"btn--action-edit"],[1,"bi","bi-check"],[3,"producto","agregar","newItemEvent"]],template:function(i,c){1&i&&(a.Ib(0,"app-navigation",0),a.ec(1,F,1,0,"app-loader",1),a.ec(2,R,17,7,"div",2)),2&i&&(a.Yb("url","/organizar")("title","Editar ubicacion"),a.xb(1),a.Yb("ngIf",c.cargando),a.xb(1),a.Yb("ngIf",!c.cargando))},directives:[r.a,n.k,u.a,_.m,_.h,_.e,n.j,b.a,_.a,_.g,_.c,I],styles:["form[_ngcontent-%COMP%]{display:grid;grid-template-columns:8fr 1fr;align-items:center;column-gap:var(--spacing-2)}form[_ngcontent-%COMP%]   .nombre_ubicacion[_ngcontent-%COMP%]{grid-column:1/8}form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{grid-column:8/9}"]}),i})()},{path:"crear-ubicacion",component:A},{path:"agregar-producto/:idUbicacion",component:k},{path:"**",redirectTo:""}];let C=(()=>{class i{}return i.\u0275mod=a.Fb({type:i}),i.\u0275inj=a.Eb({factory:function(c){return new(c||i)},imports:[[o.d.forChild(T)],o.d]}),i})();var H=t("b/4Z");let L=(()=>{class i{}return i.\u0275mod=a.Fb({type:i}),i.\u0275inj=a.Eb({factory:function(c){return new(c||i)},imports:[[n.b,C,H.a,_.k]]}),i})()}}]);